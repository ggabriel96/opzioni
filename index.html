
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="assets/images/terminal.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.4">
    
    
      
        <title>opzioni docs</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.15aa0b43.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.75751829.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#goals" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="." title="opzioni docs" class="md-header-nav__button md-logo" aria-label="opzioni docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.25 12a.75.75 0 01-.22.53l-2.75 2.75a.75.75 0 01-1.06-1.06L7.44 12 5.22 9.78a.75.75 0 111.06-1.06l2.75 2.75c.141.14.22.331.22.53zm2 2a.75.75 0 000 1.5h5a.75.75 0 000-1.5h-5z"/><path fill-rule="evenodd" d="M0 4.75C0 3.784.784 3 1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14.5A1.75 1.75 0 0122.25 21H1.75A1.75 1.75 0 010 19.25V4.75zm1.75-.25a.25.25 0 00-.25.25v14.5c0 .138.112.25.25.25h20.5a.25.25 0 00.25-.25V4.75a.25.25 0 00-.25-.25H1.75z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            opzioni docs
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ggabriel96/opzioni/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ggabriel96/opzioni
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="." class="md-tabs__link md-tabs__link--active">
      Home
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="opzioni docs" class="md-nav__button md-logo" aria-label="opzioni docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.25 12a.75.75 0 01-.22.53l-2.75 2.75a.75.75 0 01-1.06-1.06L7.44 12 5.22 9.78a.75.75 0 111.06-1.06l2.75 2.75c.141.14.22.331.22.53zm2 2a.75.75 0 000 1.5h5a.75.75 0 000-1.5h-5z"/><path fill-rule="evenodd" d="M0 4.75C0 3.784.784 3 1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14.5A1.75 1.75 0 0122.25 21H1.75A1.75 1.75 0 010 19.25V4.75zm1.75-.25a.25.25 0 00-.25.25v14.5c0 .138.112.25.25.25h20.5a.25.25 0 00.25-.25V4.75a.25.25 0 00-.25-.25H1.75z"/></svg>

    </a>
    opzioni docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ggabriel96/opzioni/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ggabriel96/opzioni
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="." class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#goals" class="md-nav__link">
    Goals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    Disclaimer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sneak-peek" class="md-nav__link">
    Sneak peek
  </a>
  
    <nav class="md-nav" aria-label="Sneak peek">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#that-gives-us" class="md-nav__link">
    That gives us:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lets-examine-this-code-step-by-step" class="md-nav__link">
    Let's examine this code step by step:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tldr" class="md-nav__link">
    TLDR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#goals" class="md-nav__link">
    Goals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    Disclaimer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sneak-peek" class="md-nav__link">
    Sneak peek
  </a>
  
    <nav class="md-nav" aria-label="Sneak peek">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#that-gives-us" class="md-nav__link">
    That gives us:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lets-examine-this-code-step-by-step" class="md-nav__link">
    Let's examine this code step by step:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tldr" class="md-nav__link">
    TLDR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ggabriel96/opzioni/edit/master/docs/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Home</h1>
                
                <p>opzioni is a command line arguments parser library for C++.</p>
<h2 id="goals">Goals<a class="headerlink" href="#goals" title="Permanent link">&para;</a></h2>
<p>The goals of this library, in order of importance, are:</p>
<ol>
<li>
<p><strong>Be as simple and enjoyable as possible.</strong></p>
<p>This mainly targets the user of the library, but also includes the user of the command line tool built with it.</p>
</li>
<li>
<p><strong>If it compiles, it works.</strong></p>
<p>That's utopic, but that's what is being strived for.
Most of the time, all the information needed to build a command line interface is available at compile-time, so we should take advantage of that.</p>
</li>
<li>
<p><strong><em>Try</em> not to repeat yourself.</strong></p>
<p>I like to think about command-line parsers as follows.
First, there is a CLI specification, say, with names, descriptions, types, default values, etc.
Then, parsing is done and a result is returned with which one would <em>simply access</em> the information the user provided in
the command-line or they themselves provided in the specification.
By "simply access" I mean: if a <code>name</code> argument is defined in the specification, I would like to access its value in the
result with a syntax similar to <code>args.name</code> or <code>args["name"]</code>.</p>
<p>However, in C++, one thing that really bothers me is having to state the type of the argument <em>both</em> in the CLI specification
<em>and</em> when accessing it in the parse result.
Unfortunately, that is pretty much unavoidable, at least when accessing the result.
On one hand, the result depends on runtime information (that comes from the command-line), so some things <em>cannot</em> be <code>constexpr</code>.
On the other hand, I'm not yet capable of "propagating" the type information of each argument all the way from the
specification to the result (if that's even possible).
That means that it's impossible to write <code>auto name = args["name"]</code> if <code>args</code> is not <code>constexpr</code> and holds <code>std::variant</code>s.
Boost.Hana makes me think there is a way, but I don't know how.
See also <a href="https://github.com/ggabriel96/opzioni/issues/5">The return of templated Arg?</a>, at "The problem".</p>
<p>Finally, I decided to at least <em>try</em> to avoid asking the user to actually write the type of each argument,
since they'll eventually have to do that when accessing their values.
In order to accomplish this, a lot of template argument deduction is used, together with the provided defaults and a lot of guessing.
One place that didn't quite fully work though was with actions.</p>
</li>
<li>
<p><strong>Be bleeding-edge.</strong></p>
<p>This library requires C++20.
That limits a lot its potential users, but also allows for the use of the new and powerful features of C++.
It also helps to accomplish the previous goals.</p>
</li>
</ol>
<h2 id="disclaimer">Disclaimer<a class="headerlink" href="#disclaimer" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>This is a <strong>personal project</strong> with <strong>no promise of maintainability</strong> for the time being.</p>
<p>I started it to learn more about C++ and its new features.</p>
</li>
<li>
<p>Although it is <em>not</em> in <em>early</em> development, since I'm working on it for months and iterated over it many times,
    <strong>it is not stable or production-ready</strong>.</p>
</li>
<li>
<p>There are <strong>many unit tests missing</strong>.</p>
</li>
<li>
<p>I frequently changed the interface of the library and I'm <strong>not afraid of changing it radically again</strong> if I think it would improve the UX.</p>
<p>Another example is the names of the <code>namespaces</code> and what is in them.</p>
</li>
<li>
<p>There is <em>a lot</em> of polish and optimization work to do.</p>
</li>
<li>
<p>There is a whole documentation to write.</p>
</li>
</ul>
<h2 id="sneak-peek">Sneak peek<a class="headerlink" href="#sneak-peek" title="Permanent link">&para;</a></h2>
<p>The code below is a fully working example, taken from <a href="https://github.com/ggabriel96/opzioni/blob/main/examples/hello.cpp"><code>examples/hello.cpp</code></a>, only reformatted and with quotes changed to angle brackets in the <code>#include</code>.
Feel free to take a look at the other, more complex, examples in the same directory.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string_view&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&lt;opzioni.hpp&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="k">const</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="k">using</span> <span class="k">namespace</span> <span class="n">opzioni</span><span class="p">;</span>

  <span class="k">constexpr</span> <span class="k">auto</span> <span class="n">hello</span> <span class="o">=</span>
      <span class="n">Program</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">).</span><span class="n">version</span><span class="p">(</span><span class="s">&quot;0.1&quot;</span><span class="p">).</span><span class="n">intro</span><span class="p">(</span>
          <span class="s">&quot;Greeting people since the dawn of computing&quot;</span><span class="p">)</span> <span class="o">+</span>
      <span class="n">Help</span><span class="p">()</span> <span class="o">*</span> <span class="n">Version</span><span class="p">()</span> <span class="o">*</span>
          <span class="n">Pos</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">).</span><span class="n">help</span><span class="p">(</span><span class="s">&quot;Your name please, so I can greet you&quot;</span><span class="p">);</span>

  <span class="k">auto</span> <span class="k">const</span> <span class="n">args</span> <span class="o">=</span> <span class="n">hello</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string_view</span> <span class="k">const</span> <span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s">&quot;name&quot;</span><span class="p">];</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Hello, &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">name</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="that-gives-us">That gives us:<a class="headerlink" href="#that-gives-us" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Automatic help with <code>--help</code> or <code>-h</code></p>
<div class="highlight"><pre><span></span><code>$ ./build/examples/hello -h
hello 0.1

Greeting people since the dawn of computing

Usage:
    hello &lt;name&gt; [--help] [--version]

Positionals:
    name             Your name please, so I can greet you

Options &amp; Flags:
    -h, --help       Display this information
    -V, --version    Display the software version
</code></pre></div>
</li>
<li>
<p>Automatic version with <code>--version</code> or <code>-V</code></p>
<div class="highlight"><pre><span></span><code>$ ./build/examples/hello -V
hello <span class="m">0</span>.1
</code></pre></div>
</li>
<li>
<p>Automatic error handling</p>
<div class="highlight"><pre><span></span><code>$ ./build/examples/hello Gabriel Galli
Unexpected positional argument `Galli`. This program expects 1 positional arguments

Usage:
    hello &lt;name&gt; [--help] [--version]
</code></pre></div>
</li>
<li>
<p>And finally:</p>
<div class="highlight"><pre><span></span><code>$ ./build/examples/hello &quot;Gabriel Galli&quot;
Hello, Gabriel Galli!
</code></pre></div>
</li>
</ol>
<h3 id="lets-examine-this-code-step-by-step">Let's examine this code step by step:<a class="headerlink" href="#lets-examine-this-code-step-by-step" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>First, include opzioni with <code>#include &lt;opzioni.hpp&gt;</code>.</p>
</li>
<li>
<p>To gain easy access to opzioni's types and functions, add <code>using namespace opzioni;</code>.</p>
<p>But that's a strong statement, so each name can be individually pulled into the current namespace too:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span> <span class="n">opzioni</span><span class="o">::</span><span class="n">Program</span><span class="p">,</span> <span class="n">opzioni</span><span class="o">::</span><span class="n">Help</span><span class="p">,</span> <span class="n">opzioni</span><span class="o">::</span><span class="n">Version</span><span class="p">;</span> <span class="c1">// etc.</span>
</code></pre></div>
</li>
<li>
<p>An instance of <code>Program</code> is created.</p>
<p>It is given the name <code>hello</code>, version <code>0.1</code>, and a short introduction.</p>
</li>
<li>
<p>Arguments are added to <code>Program</code>.</p>
<p>The built-in help and version and a positional called <code>name</code>.
Note that there is an <code>operator*</code> between each argument and an <code>operator+</code> between the program and its arguments.
This is better explained later.</p>
</li>
<li>
<p>The command line arguments are parsed.</p>
<p>As simple as calling a function with <code>argc</code> and <code>argv</code> and returns a map of the results.</p>
</li>
<li>
<p>The parsed name is extracted from the resulting map and printed to <code>stdout</code>.</p>
<p>It could also be used directly in <code>std::cout</code>:
<div class="highlight"><pre><span></span><code><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">args</span><span class="p">.</span><span class="n">as</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string_view</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 1</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">args</span><span class="p">[</span><span class="s">&quot;name&quot;</span><span class="p">].</span><span class="n">as</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string_view</span><span class="o">&gt;</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span> <span class="c1">// 2</span>
</code></pre></div></p>
</li>
</ol>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<p>opzioni is not published anywhere yet.
The goal is to eventually make it available on:</p>
<ul>
<li><a href="https://conan.io/">Conan</a></li>
<li><a href="https://github.com/microsoft/vcpkg">vcpkg</a></li>
<li>Meson's <a href="https://wrapdb.mesonbuild.com/">Wrap DB</a></li>
<li><a href="https://conda-forge.org/">conda-forge</a></li>
<li><a href="https://spack.io/">Spack</a></li>
</ul>
<p>Meanwhile, there are a few options to build and try it out. See the TLDR below.</p>
<h3 id="tldr">TLDR<a class="headerlink" href="#tldr" title="Permanent link">&para;</a></h3>
<p>There are few options to get up to speed on building opzioni:</p>
<ul>
<li>
<p>If you're familiar with Docker, there is a <code>Dockerfile</code> and a <code>docker-compose.yml</code> in [<code>.devcontainer/</code>][.devcontainer/].
    Also, the project is already configured to work with <a href="https://code.visualstudio.com/docs/remote/containers">VS Code Remote Containers</a>.</p>
</li>
<li>
<p>If you're familiar with <a href="https://nixos.org/">NixOS</a>, there is a <a href="https://github.com/ggabriel96/opzioni/blob/main/shell.nix"><code>shell.nix</code></a> ready to use.</p>
</li>
</ul>
<p>Once in your chosen environment, simply run <code>make</code>.
That should download the build dependencies with Conan and build the whole project with Meson and ninja.
The <a href="https://github.com/ggabriel96/opzioni/blob/main/Makefile"><code>Makefile</code></a> is just a simple helper to avoid having to remember all the commands.</p>
<h3 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h3>
<p>All dependencies below might still work if on earlier minor versions, but I'm not sure.
I still gotta pin them (except for <code>fmt</code> and <code>Catch2</code>, which are somewhat pinned in the build definitions).
<strong>I always try to go for the latest versions.</strong></p>
<ul>
<li>GCC &gt;= 10.2. Concepts and Ranges support is required.</li>
<li><a href="https://mesonbuild.com/">meson</a> &gt;= 0.50 (gotta check that)</li>
<li><a href="https://ninja-build.org/">ninja</a> &gt;= 1.10</li>
<li><a href="https://fmt.dev/">fmt</a> &gt;= 7.0.3</li>
<li><a href="https://github.com/catchorg/Catch2/">Catch2</a> &gt;= 2.13.0</li>
<li>ClangFormat 10 if willing to apply the formatting as checked in CI</li>
</ul>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p>opzioni's license is the <a href="https://github.com/ggabriel96/opzioni/blob/main/LICENSE">Boost Software License (BSL) 1.0</a>.</p>
<p>This means you are <strong>free to use</strong> this library <strong>as you wish</strong> and see fit.</p>
<p>It is only needed to provide a copy of the license if the source is also being distributed.</p>
<p>In other words, <strong>there is no need to bundle opzioni's license with your binary</strong>.</p>
<!-- links -->
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.93c04032.min.js"></script>
      <script src="assets/javascripts/bundle.83e5331e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>