
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/terminal.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.4">
    
    
      
        <title>Customization - opzioni docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.15aa0b43.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.75751829.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#customization" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="opzioni docs" class="md-header-nav__button md-logo" aria-label="opzioni docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.25 12a.75.75 0 01-.22.53l-2.75 2.75a.75.75 0 01-1.06-1.06L7.44 12 5.22 9.78a.75.75 0 111.06-1.06l2.75 2.75c.141.14.22.331.22.53zm2 2a.75.75 0 000 1.5h5a.75.75 0 000-1.5h-5z"/><path fill-rule="evenodd" d="M0 4.75C0 3.784.784 3 1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14.5A1.75 1.75 0 0122.25 21H1.75A1.75 1.75 0 010 19.25V4.75zm1.75-.25a.25.25 0 00-.25.25v14.5c0 .138.112.25.25.25h20.5a.25.25 0 00.25-.25V4.75a.25.25 0 00-.25-.25H1.75z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            opzioni docs
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Customization
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ggabriel96/opzioni/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ggabriel96/opzioni
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../from-scratch/" class="md-tabs__link md-tabs__link--active">
        User guide
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="opzioni docs" class="md-nav__button md-logo" aria-label="opzioni docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.25 12a.75.75 0 01-.22.53l-2.75 2.75a.75.75 0 01-1.06-1.06L7.44 12 5.22 9.78a.75.75 0 111.06-1.06l2.75 2.75c.141.14.22.331.22.53zm2 2a.75.75 0 000 1.5h5a.75.75 0 000-1.5h-5z"/><path fill-rule="evenodd" d="M0 4.75C0 3.784.784 3 1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14.5A1.75 1.75 0 0122.25 21H1.75A1.75 1.75 0 010 19.25V4.75zm1.75-.25a.25.25 0 00-.25.25v14.5c0 .138.112.25.25.25h20.5a.25.25 0 00.25-.25V4.75a.25.25 0 00-.25-.25H1.75z"/></svg>

    </a>
    opzioni docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ggabriel96/opzioni/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ggabriel96/opzioni
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      User guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User guide" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        User guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../from-scratch/" class="md-nav__link">
      Starting from scratch
    </a>
  </li>

        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Customization
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Customization
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#program" class="md-nav__link">
    Program
  </a>
  
    <nav class="md-nav" aria-label="Program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#title" class="md-nav__link">
    title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    introduction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#msg_width" class="md-nav__link">
    msg_width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error_handler" class="md-nav__link">
    error_handler
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../running-with-docker/" class="md-nav__link">
      Running with Docker
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#program" class="md-nav__link">
    Program
  </a>
  
    <nav class="md-nav" aria-label="Program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#title" class="md-nav__link">
    title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    introduction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#msg_width" class="md-nav__link">
    msg_width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error_handler" class="md-nav__link">
    error_handler
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ggabriel96/opzioni/edit/master/docs/user-guide/customization.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="customization">Customization<a class="headerlink" href="#customization" title="Permanent link">&para;</a></h1>
<h2 id="program"><code>Program</code><a class="headerlink" href="#program" title="Permanent link">&para;</a></h2>
<p>The following sections explain the various attributes of <code>Program</code> and how to set them via the provided member functions.</p>
<p>In code, however, they are not member variables of <code>Program</code> (that's why I called them attributes instead).
They are actually member variables of the <code>ProgramMetadata</code> class, held in the <code>metadata</code> member variable of <code>Program</code>.</p>
<p>This detail deserves a longer explanation somewhere else, so to keep things short here, it suffices to say that it serves the purpose of having a common data structure between <code>Program</code> and <code>ProgramView</code>.
<code>ProgramView</code> is like a <code>std::string_view</code>, but for <code>Program</code>.
All program data is accessible through it, including its arguments and commands.</p>
<h3 id="name"><code>name</code><a class="headerlink" href="#name" title="Permanent link">&para;</a></h3>
<p>The first and most basic information of <code>Program</code> is <code>name</code>.
It is the only attribute that the user is required to provide.
Thus, it is specified in the constructor:</p>
<div class="highlight"><pre><span></span><code><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">wget</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="s">&quot;wget&quot;</span><span class="p">);</span>
</code></pre></div>
<p>It is used, for example, when printing the automatic help text, and as identifier when adding a program as command of another program.</p>
<p>Output of the snippet above<sup id="fnref:snippet-output"><a class="footnote-ref" href="#fn:snippet-output">1</a></sup>:</p>
<div class="highlight"><pre><span></span><code>wget

Usage:
    wget [--help]

Options &amp; Flags:
    -h, --help    Display this information
</code></pre></div>
<h3 id="title"><code>title</code><a class="headerlink" href="#title" title="Permanent link">&para;</a></h3>
<p>The <code>title</code> is like the headline of the program.
It is optional, but is also given in the constructor, as the second argument:</p>
<div class="highlight"><pre><span></span><code><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">wget</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="s">&quot;wget&quot;</span><span class="p">,</span> <span class="s">&quot;a non-interactive network retriever&quot;</span><span class="p">);</span>
</code></pre></div>
<p>There is currently no special use for it, so it is only informational.</p>
<p>Output of the snippet above:</p>
<div class="highlight"><pre><span></span><code>wget - a non-interactive network retriever

Usage:
    wget [--help]

Options &amp; Flags:
    -h, --help    Display this information
</code></pre></div>
<h3 id="version"><code>version</code><a class="headerlink" href="#version" title="Permanent link">&para;</a></h3>
<p><code>version</code> is... well, the program version.
It is specified via the <code>version</code> member function and can be any string.</p>
<div class="highlight"><pre><span></span><code><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">wget</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="s">&quot;wget&quot;</span><span class="p">,</span> <span class="s">&quot;a non-interactive network retriever&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">version</span><span class="p">(</span><span class="s">&quot;1.20.3&quot;</span><span class="p">);</span>
</code></pre></div>
<p>In the automatic help, it is printed right next to the program name in the title line, so it is best to keep it within a maximum of ~16 characters.</p>
<p>Output of the snippet above:</p>
<div class="highlight"><pre><span></span><code>wget 1.20.3 - a non-interactive network retriever

Usage:
    wget [--help]

Options &amp; Flags:
    -h, --help    Display this information
</code></pre></div>
<h3 id="introduction"><code>introduction</code><a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h3>
<p><code>introduction</code> is what goes between the program name and its list of arguments.
So, for example, it can be used as an actual introduction to the program and what is does, or some message about its usage.
It is specified via the <code>intro</code> member function.
Try to keep it short (2 or 3 lines maximum).</p>
<div class="highlight"><pre><span></span><code><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">wget</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="s">&quot;wget&quot;</span><span class="p">,</span> <span class="s">&quot;a non-interactive network retriever&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">version</span><span class="p">(</span><span class="s">&quot;1.20.3&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">intro</span><span class="p">(</span><span class="s">&quot;Mandatory arguments to long options are mandatory for short options too.&quot;</span><span class="p">);</span>
</code></pre></div>
<p>Output of the snippet above:</p>
<div class="highlight"><pre><span></span><code>wget 1.20.3 - a non-interactive network retriever

Mandatory arguments to long options are mandatory for short options too.

Usage:
    wget [--help]

Options &amp; Flags:
    -h, --help    Display this information
</code></pre></div>
<h3 id="description"><code>description</code><a class="headerlink" href="#description" title="Permanent link">&para;</a></h3>
<p><code>description</code> is a piece of text that goes after the list of arguments.
It can be used, for example, to add some details that weren't relevant before, like website, documentation, or contact information.
It is specified via the <code>details</code> member function.</p>
<div class="highlight"><pre><span></span><code><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">wget</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="s">&quot;wget&quot;</span><span class="p">,</span> <span class="s">&quot;a non-interactive network retriever&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">version</span><span class="p">(</span><span class="s">&quot;1.20.3&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">intro</span><span class="p">(</span><span class="s">&quot;Mandatory arguments to long options are mandatory for short options too.&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">details</span><span class="p">(</span><span class="s">&quot;Email bug reports, questions, discussions to &lt;bug-wget@gnu.org&gt;&quot;</span>
                                 <span class="s">&quot; and/or open issues at https://savannah.gnu.org/bugs/?func=additem&amp;group=wget.&quot;</span><span class="p">);</span>
</code></pre></div>
<p>Note that C++ allows strings to be break into separate pieces for better code formatting, but that does not affect the output of the automatic help.
Don't make it too long, though, as that will move the argument list up in the help text.</p>
<p>Output of the snippet above:</p>
<div class="highlight"><pre><span></span><code>wget 1.20.3 - a non-interactive network retriever

Mandatory arguments to long options are mandatory for short options too.

Usage:
    wget [--help]

Options &amp; Flags:
    -h, --help    Display this information

Email bug reports, questions, discussions to &lt;bug-wget@gnu.org&gt; and/or open issues at
https://savannah.gnu.org/bugs/?func=additem&amp;group=wget.
</code></pre></div>
<h3 id="msg_width"><code>msg_width</code><a class="headerlink" href="#msg_width" title="Permanent link">&para;</a></h3>
<p>The <code>msg_width</code> is what determines the maximum width of the messages that opzioni will output related to the program.
For example, it is used when printing the automatic help and when using the built-in error handling actions.
The default is <code>100</code> and it can be changed via the <code>max_width</code> member function.</p>
<div class="highlight"><pre><span></span><code><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">wget</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="s">&quot;wget&quot;</span><span class="p">,</span> <span class="s">&quot;a non-interactive network retriever&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">version</span><span class="p">(</span><span class="s">&quot;1.20.3&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">intro</span><span class="p">(</span><span class="s">&quot;Mandatory arguments to long options are mandatory for short options too.&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">details</span><span class="p">(</span><span class="s">&quot;Email bug reports, questions, discussions to &lt;bug-wget@gnu.org&gt;&quot;</span>
                                 <span class="s">&quot; and/or open issues at https://savannah.gnu.org/bugs/?func=additem&amp;group=wget.&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">max_width</span><span class="p">(</span><span class="mi">64</span><span class="p">);</span>
</code></pre></div>
<p>Output of the snippet above:</p>
<div class="highlight"><pre><span></span><code>wget 1.20.3 - a non-interactive network retriever

Mandatory arguments to long options are mandatory for short
options too.

Usage:
    wget [--help]

Options &amp; Flags:
    -h, --help    Display this information

Email bug reports, questions, discussions to &lt;bug-wget@gnu.org&gt;
and/or open issues at
https://savannah.gnu.org/bugs/?func=additem&amp;group=wget.
</code></pre></div>
<p>It is a best-effort, though, so don't make it too narrow.
If the maximum width is not enough for long words (like the URL above), they will be printed in a dedicated line anyway
(try this last snippet with a maximum width of 32).</p>
<h3 id="error_handler"><code>error_handler</code><a class="headerlink" href="#error_handler" title="Permanent link">&para;</a></h3>
<p><code>error_handler</code> determines how the program behaves when a user error occurs.
This doesn't affect the automatic help text.</p>
<p>The default is to print the error message and the usage of the program.
Change it via the <code>on_error</code> member function.
For example, to only print the error message:</p>
<div class="highlight"><pre><span></span><code><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">wget</span> <span class="o">=</span> <span class="n">Program</span><span class="p">(</span><span class="s">&quot;wget&quot;</span><span class="p">,</span> <span class="s">&quot;a non-interactive network retriever&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">version</span><span class="p">(</span><span class="s">&quot;1.20.3&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">intro</span><span class="p">(</span><span class="s">&quot;Mandatory arguments to long options are mandatory for short options too.&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">details</span><span class="p">(</span><span class="s">&quot;Email bug reports, questions, discussions to &lt;bug-wget@gnu.org&gt;&quot;</span>
                                 <span class="s">&quot; and/or open issues at https://savannah.gnu.org/bugs/?func=additem&amp;group=wget.&quot;</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">max_width</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span>
                        <span class="p">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">print_error</span><span class="p">);</span>
</code></pre></div>
<p>This also deserves a longer documentation, but until that's available, here is a brief explanation:</p>
<p>The argument to <code>on_error</code> must be of the <code>ErrorHandler</code> type, which is actually a <code>using</code> declaration for the following function pointer:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span> <span class="n">ErrorHandler</span> <span class="o">=</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">ProgramView</span> <span class="k">const</span><span class="p">,</span> <span class="n">UserError</span> <span class="k">const</span> <span class="o">&amp;</span><span class="p">);</span>
</code></pre></div>
<p><code>ProgramView</code> was introduced <a href="#program">earlier</a>.</p>
<p><code>UserError</code> is the base class of the exceptions that are thrown when a user error occurs (user as in user of the command-line program).
All opzioni exceptions inherit from <code>std::exception</code>, so the error message can be obtained via their <code>what</code> member function.</p>
<p>Currently, the built-in error handlers are:</p>
<ul>
<li><code>print_error</code>: print the error message only.</li>
<li><code>print_error_and_usage</code>: print the error message and the program usage (the default).</li>
<li><code>rethrow</code>: rethrow the exception.</li>
</ul>
<p>Just a detail about <code>rethrow</code>: note that, given the signature of <code>ErrorHandler</code>, the information of the actual class of the exception that was thrown is lost.
In order to preserve their type information (and also be able to granularly catch exceptions, if that's desired), use the <code>parse</code> free function instead of <code>Program</code>'s call operator when parsing the command-line.
Just add a <code>try</code> and as many <code>catch</code>es as desired to the following snippet:</p>
<div class="highlight"><pre><span></span><code><span class="k">auto</span> <span class="k">const</span> <span class="n">map</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="n">wget</span><span class="p">,</span> <span class="p">{</span><span class="n">argv</span><span class="p">,</span> <span class="n">argc</span><span class="p">});</span>
</code></pre></div>
<p><code>argc</code> and <code>argv</code> are "flipped" and within <code>{}</code> because that's constructing a <code>std::span</code>.</p>
<p>Calling <code>parse</code> instead of <code>Program::operator()</code> avoids the built-in <code>try... catch</code> (which invokes <code>error_handler</code>).
This means that "unsetting" or clearing <code>error_handler</code> isn't needed.
In fact, <code>on_error(nullptr)</code> or <code>on_error(NULL)</code> doesn't compile.
<code>error_handler</code> is a required attribute of <code>Program</code>.</p>
<!-- footnotes -->
<div class="footnote">
<hr />
<ol>
<li id="fn:snippet-output">
<p>snippet output generated by adding the automatic help to the example.&#160;<a class="footnote-backref" href="#fnref:snippet-output" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../from-scratch/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Starting from scratch
              </div>
            </div>
          </a>
        
        
          <a href="../running-with-docker/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Running with Docker
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.93c04032.min.js"></script>
      <script src="../../assets/javascripts/bundle.83e5331e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>